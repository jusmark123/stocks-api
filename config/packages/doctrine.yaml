parameters:
  env(DATABASE_URL): ''
  env(DATABASE_USER): 'symfony'
  env(DATABASE_PASSWORD): 'symfony'
  env(DATABASE_NAME): 'stocks_api'
  env(DATABASE_HOST): 'db'
  env(DATABASE_PORT): '3306'
  env(DATABASE_DRIVER): 'mysql'
  env(DATABASE_SERVER_VERSION): '5.6'

doctrine:
    dbal:
      driver: 'pdo_%env(DATABASE_DRIVER)%'
      server_version: '%env(DATABASE_SERVER_VERSION)%'
      charset: utf8mb4
      default_table_options:
        charset: utf8mb4
        collate: utf8mb4_unicode_ci
      types:
        uuid: Ramsey\Uuid\Doctrine\UuidType

      # IMPORTANT: You MUST configure your server version,
      # either here or in the DATABASE_URL env var (see .env file)
      #server_version: '5.7'

      dbname: '%env(DATABASE_NAME)%'
      host: '%env(DATABASE_HOST)%'
      port: '%env(DATABASE_PORT)%'
      user: '%env(DATABASE_USER)%'
      password: '%env(DATABASE_PASSWORD)%'

    orm:
        auto_generate_proxy_classes: '%kernel.debug%'
        naming_strategy: doctrine.orm.naming_strategy.underscore_number_aware
        auto_mapping: true
        filters:
          softdeleteable:
            class: Gedmo\SoftDeleteable\Filter\SoftDeleteableFilter
            enabled: true
        mappings:
            App:
                is_bundle: false
                type: annotation
                dir: '%kernel.project_dir%/src/Entity'
                prefix: 'App\Entity'
                alias: App
